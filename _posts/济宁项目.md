---
title: 项目总结
date: 2018-03-16 15:30:28
tags:
---
# r_dremis数据库表

## income_class_code

|字段名|数据类型|说明|
|-------|-------|------|

## [R_Temp_other_info]

|字段名|数据类型|说明|
|-------|-------|------|
|[income_id]  |
|[other_num]	|
| [income_class] |
| [other_man]	 |抵押权人
| [other_tel]				   |
| [other_card]				   |
| [other_card_id]			   |
| [other_agent]				   |
| [other_cor]				   |
| [owner_name]				   |
| [owner_tel]				   |
| [owner_card]				   |
| [owner_card_id]			   |
| [owner_agent]				   |
| [owner_cor]				   |
| [debtor_name]				   |
| [debtor_tel]				   |
| [debtor_card]				   |
| [debtor_card_id]			   |
| [debtor_agent]				   |
| [debtor_cor]				   |
| [seat_name]				   |
| [house_price]				   |
| [evaluate_price]			   |
| [right_fact]				   |
| [right_area]				   |
| [right_price]				   |
| [borrow_price]				   |
| [right_class]				   |
| [start_date]				   |
| [end_date]					   |
| [right_id]					   |
| [right_num]				   |
| [tiptop_price]				   |
| [tiptop_remark]			   |
| [remark]					   |
| [is_cart]					   |
| [remove_yy]				   |
| [remove_date]				   |
| [oper_man]					   |
| [oper_date]				   |
| [oper_com]					   |
| [old_income_id]			   |
| [other_add]				   |
| [debtor_add]				   |
| [share_owner_name]			   |
| [share_owner_tel]			   |
| [share_owner_card]			   |
| [share_owner_card_id]		   |
| [share_owner_agent]		   |
| [share_owner_cor]			   |
| [share_debtor_name]		   |
| [share_debtor_tel]			   |
| [share_debtor_card]		   |
| [share_debtor_card_id]		   |
| [share_debtor_agent]		   |
| [share_debtor_cor]			   |
| [record_contract_code]		   |
| [bank_contrack_code]		   |
| [contract_name]			   |




# 交易系统

## 打印表格

### 初始化数据

问题：加载时一个收件号有多条记录

R_Code_income_emp 双主键

```sql
 declare @flow char(1),@state char(1),@username char(10)
 set @flow='1'
 set @state='0'
 set @username='00002204'
select a.income_class,i.income_name as income_sys,a.owner_name,income_id,contract_code,a.oper_class from IncomeListView AS a  
INNER JOIN 
  dbo.R_Code_income_emp AS b ON a.income_class=b.small_income_code 
  inner join 
  dbo.income_class_code as i on a.income_class=i.income_class  
  WHERE flow_flag=@flow and state_flag=@state 
```

1 IncomeListView:

```sql
SELECT  b.income_id, i.income_sys, b.owner_name, b.seat_name, CONVERT(varchar(10), b.get_date, 120) AS get_date, u.name, 
        b.get_man, b.flow_flag, b.state_flag, b.income_class, b.contract_code, i.oper_class
FROM  dbo.R_Reg_base_info AS b 
INNER JOIN
    dbo.R_View_Income_class AS i ON b.income_class = i.income_class 
INNER JOIN
    linkserverW.P_dremis.dbo.Code_users AS u ON b.get_man = u.code
```

R_Reg_base_info:流程基本信息表

2 R_Code_income_emp


3 income_class_code






